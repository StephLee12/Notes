# Association Rule

👉 定义

给定集合$\,T\,$,关联规则发现是**找出支持度$\,\geq min\_sup\,$并且置信度$\,\geq min\_conf\,$的所有规则**

关联规则是形如$\,X \rightarrow Y\,$的表达式($\,X和Y\,$是不相交的项集)

👉 相关概念

- 项集(Itemset)——包含0个或多个项的集合
- 支持度计数($\,\sigma\,$)——包含特定项集的事务个数
- 支持度——包含项集的事务数/总事务数
- 频繁项集(Frequent Itemset)——满足**最小支持度阈值$\,min\_sup\,$**的所有项集

👉 关联规则的强度

- 支持度——确定项集的**频繁程度**

$$
    support(X \rightarrow Y) = P(X \bigcup Y)
$$

- 置信度——确定Y在包含X的事务中出现的频繁程度

$$
    confidence(X \rightarrow Y) = P(Y | X) = \frac{support(X\bigcup Y)}{support(X)}
$$

👉 关联规则挖掘一般步骤

1. 频繁项集产生
2. 规则的产生(在频繁项集中提取所有高置信度的规则，这些规则称为强规则)

## 频繁项集的产生

### BF

👉 不考虑 时间复杂度太高 指数级

👉 降低产生频繁项集计算复杂度的方法

- 减少候选项集的数量——Apriori原理
- 减少比较的次数——使用高级的数据结构，或存储候选项集或压缩数据集，来减少比较次数

### Apriori

👉 理论基础

- 如果一个项集是频繁的，则它的**所有子集**一定是频繁的
- 如果一个项集是非频繁的，则它的**所有超集**也一定是非频繁的

👉 剪枝原则

如果一个项集不是频繁的，不产生它的超集

这种基于**支持度度量**修剪**指数搜索空间**的策略称为**基于支持度的剪枝**

👉 方法

长度为k的**频繁项集**产生长度为k+1的候选项集(**连接，剪枝**)，扫描DB测试候选项集

连接的算法

![apriori连接](Captures/apriori连接.PNG "apriori连接")

剪枝的算法

![apriori剪枝](Captures/apriori剪枝.PNG "apriori剪枝")

👉 算法步骤

![apriori](Captures/apriori.PNG "apriori")

## 规则产生

👉 将一个频繁项集$\,Y\,$划分为两个非空的子集$\,X\,$和$\,Y-X\,$,使得$\,X \rightarrow Y-X\,$满足置信度阈值$\,min\_conf\,$

👉 计算关联规则的置信度**不需要再次扫描数据库**，因为分割后的两个子集一定是频繁项集(一个频繁项集的子集一定是频繁的)